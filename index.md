Sample code to reproduce the compose performance issue I've run into.

Example output:

```
Flat: PT40.823599145S
Nested: PT0.595912760S
Flat: PT39.294077356S
Nested: PT0.514288534S
Flat: PT43.718058763S
Nested: PT0.493468837S
Flat: PT37.952332495S
Nested: PT0.486408537S
Flat: PT42.537574640S
Nested: PT0.508910148S
Flat: PT38.861279316S
Nested: PT0.496343386S
Flat: PT43.290397833S
Nested: PT0.496172539S
Flat: PT43.222086481S
Nested: PT0.487776028S
Flat: PT43.467082535S
Nested: PT0.429526670S
Flat: PT43.476899859S
Nested: PT0.443213728S
```